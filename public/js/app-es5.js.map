{"version":3,"sources":["../../app/js/app.js"],"names":["keyCodes","keycode","drumType","purpLine","document","getElementById","greenLine","yellowLine","lines","getElementsByClassName","drums","allDrums","querySelectorAll","drumName","directions","bangDrumsVoice","numberOfClicks","lastClick","intervalID","window","onresize","innerHTML","onload","play","checkToStartInterval","startInterval","setInterval","bangDrums","Date","now","clearInterval","isYellow","code","isPurple","isGreen","addDrumName","classList","add","addClasses","el","addEventListener","event","target","querySelector","keyCode","audio","currentTime","map","kc","toUpperCase","getAttribute","dk","removeTransition","x","length","remove","endTransition","element","forEach","drum"],"mappings":"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","file":"app-es5.js","sourcesContent":["\nconst keyCodes = [\n  { keycode: 89, drumType: 'open high hat' },\n  { keycode: 85, drumType: 'tom' },\n  { keycode: 73, drumType: 'tom' },\n  { keycode: 79, drumType: 'ride' },\n  { keycode: 72, drumType: 'hi hat' },\n  { keycode: 74, drumType: 'floor tom' },\n  { keycode: 75, drumType: 'floor tom' },\n  { keycode: 78, drumType: 'snare' },\n  { keycode: 77, drumType: 'kick'}\n];\n\nconst purpLine = document.getElementById('purp');\nconst greenLine = document.getElementById('green');\nconst yellowLine = document.getElementById('yellow');\nconst lines = document.getElementsByClassName('line');\nconst drums = document.getElementById('drums-container');\nconst allDrums = document.querySelectorAll('.drum');\nconst drumName = document.getElementById('drum-name');\nconst directions = document.getElementById('directions');\nconst bangDrumsVoice = document.getElementById('bangDrumsVoice');\nlet numberOfClicks = 0;\nlet lastClick;\nlet intervalID;\n\nwindow.onresize = () => directions.innerHTML = \"bang them drums\";\n\nwindow.onload = bangDrumsVoice.play();\n\n//To avoid having multiple intervals started this only starts an interval after the first click or keydown.\nconst checkToStartInterval = function() {\n  numberOfClicks < 2 ? startInterval() : null;\n}\n\n\nconst startInterval = function() {\n    intervalID = window.setInterval(\"bangDrums()\", 2000);\n};\n\n// If it's been more than 2s since the last click/keydown add directions, play voice, clear & reset interval;\nconst bangDrums = function() {\n  if (Date.now() - lastClick > 1999) {\n    if (directions.innerHTML === \"\") {\n      directions.innerHTML = \"bang them drums\";\n      bangDrumsVoice.play();\n      numberOfClicks = 0;\n      window.clearInterval(intervalID)\n    }\n  }\n};\n\n// keycodes of letters that represent colors of drums\nconst isYellow = function(code) {\n  if (code == 89 || code == 79 || code == 72) {\n    return true;\n  }\n};\n\nconst isPurple = function(code) {\n  if (code == 77 || code == 78) {\n    return true;\n  }\n};\n\nconst isGreen = function(code) {\n  if (code == 85 || code == 73 || code == 74 || code == 75) {\n    return true;\n  }\n};\n// ----------------\n\nconst addDrumName = () => drumName.classList.add(\"drumType\");\n\nconst addClasses = (code, el) => {\n  if (isPurple(code)) {\n    purpLine.classList.add(\"line-transition\");\n  }\n  else if (isGreen(code)) {\n    greenLine.classList.add(\"line-transition\");\n  }\n  else if (isYellow(code)) {\n    yellowLine.classList.add(\"line-transition\");\n    el.classList.add(\"cymb-animation\");\n    el.classList.add(\"play\");\n  }\n};\n\nwindow.addEventListener('keydown', (event) => {\n  numberOfClicks += 1;\n  lastClick = Date.now();\n  checkToStartInterval();\n\n  let target = document.querySelector(`div[data-key=\"${event.keyCode}\"]`);\n\n  const audio = document.querySelector(`audio[data-key=\"${event.keyCode}\"]`);\n\n  if (!audio) return;\n  audio.currentTime = 0;\n  audio.play()\n\n  directions.innerHTML = '';\n\n  keyCodes.map((el) => {\n    let kc = event.keyCode;\n    if (kc == el.keycode) {\n      drumName.innerHTML = el.drumType.toUpperCase();\n    }\n\n    addClasses(kc, target);\n    target.classList.add(\"play\");\n  });\n\n    addDrumName();\n});\n\ndrums.addEventListener('click', (event) => {\n  numberOfClicks += 1;\n  lastClick = Date.now();\n  checkToStartInterval();\n\n  const audio = document.querySelector(`audio[data-key=\"${event.target.getAttribute('data-key')}\"]`);\n\n  if (!audio) return;\n  audio.currentTime = 0;\n  audio.play();\n\n  directions.innerHTML = '';\n\n  keyCodes.map((el) => {\n    if (event.target.getAttribute('data-key') == el.keycode) {\n      drumName.innerHTML = el.drumType.toUpperCase();\n    }\n  });\n\n  let dk = event.target.getAttribute('data-key');\n\n  addClasses(dk, event.target)\n  event.target.classList.add(\"play\");\n  addDrumName();\n});\n\nconst removeTransition = function(event) {\n  for (let x = 0; x < lines.length; x++) {\n    lines[x].classList.remove('line-transition');\n  }\n  event.target.classList.remove('cymb-animation')\n  event.target.classList.remove('play');\n  drumName.classList.remove('drumType');\n  drumName.innerHTML = '';\n}\n\nconst endTransition = function(element) {\n  element.addEventListener('transitionend', removeTransition);\n}\n\nallDrums.forEach((drum) => {\n  endTransition(drum)\n});\n\nendTransition(drumName);\n"]}